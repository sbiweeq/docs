(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{312:function(r,a,t){"use strict";t.r(a);var s=t(6),e=Object(s.a)({},function(){var r=this,a=r.$createElement,t=r._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[t("h1",{attrs:{id:"quartz"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#quartz","aria-hidden":"true"}},[r._v("#")]),r._v(" Quartz")]),r._v(" "),t("p",[r._v("定时任务")]),r._v(" "),t("h2",{attrs:{id:"配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置","aria-hidden":"true"}},[r._v("#")]),r._v(" 配置")]),r._v(" "),t("p",[r._v("pom.xml添加依赖")]),r._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("<")]),r._v("dependency"),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v(">")]),r._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("<")]),r._v("groupId"),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v(">")]),r._v("org.springframework.boot"),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("<")]),r._v("/groupId"),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v(">")]),r._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("<")]),r._v("artifactId"),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v(">")]),r._v("spring-boot-starter-quartz"),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("<")]),r._v("/artifactId"),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v(">")]),r._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("<")]),r._v("/dependency"),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v(">")]),r._v("\n")])]),r._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[r._v("1")]),t("br"),t("span",{staticClass:"line-number"},[r._v("2")]),t("br"),t("span",{staticClass:"line-number"},[r._v("3")]),t("br"),t("span",{staticClass:"line-number"},[r._v("4")]),t("br")])]),t("p",[r._v("导入"),t("a",{attrs:{href:"https://github.com/quartz-scheduler/quartz/blob/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore/",target:"_blank",rel:"noopener noreferrer"}},[r._v("sql"),t("OutboundLink")],1),r._v("数据库表")]),r._v(" "),t("p",[r._v("application.properties添加")]),r._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[r._v("spring.quartz.job-store-type"),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("=")]),r._v("jdbc\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[r._v("# 3种模式: ALWAYS、EMBEDDED、NEVER")]),r._v("\nspring.quartz.jdbc.initialize-schema"),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("=")]),r._v("always\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[r._v("#spring.quartz.properties.org.quartz.threadPool.threadCount=5")]),r._v("\nspring.quartz.properties.org.quartz.scheduler.instanceId"),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("=")]),r._v("AUTO\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[r._v("#spring.quartz.properties.org.quartz.jobStore.tablePrefix=MYAPP_")]),r._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[r._v("#spring.quartz.properties.org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.PostgreSQLDelegate")]),r._v("\n")])]),r._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[r._v("1")]),t("br"),t("span",{staticClass:"line-number"},[r._v("2")]),t("br"),t("span",{staticClass:"line-number"},[r._v("3")]),t("br"),t("span",{staticClass:"line-number"},[r._v("4")]),t("br"),t("span",{staticClass:"line-number"},[r._v("5")]),t("br"),t("span",{staticClass:"line-number"},[r._v("6")]),t("br"),t("span",{staticClass:"line-number"},[r._v("7")]),t("br")])]),t("h2",{attrs:{id:"集群"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#集群","aria-hidden":"true"}},[r._v("#")]),r._v(" 集群")]),r._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[r._v("spring.quartz.properties.org.quartz.jobStore.isClustered"),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("=")]),r._v("true\n")])]),r._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[r._v("1")]),t("br")])]),t("h3",{attrs:{id:"微信公众号"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#微信公众号","aria-hidden":"true"}},[r._v("#")]),r._v(" 微信公众号")]),r._v(" "),t("img",{staticStyle:{width:"250px"},attrs:{src:r.$withBase("/image/qrcode_xiaperio_430.jpg")}}),r._v(" "),t("h2",{attrs:{id:"参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考","aria-hidden":"true"}},[r._v("#")]),r._v(" 参考")]),r._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/quartz-scheduler/quartz/tree/master/docs/examples",target:"_blank",rel:"noopener noreferrer"}},[r._v("Quartz Examples"),t("OutboundLink")],1)]),r._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/quartz-scheduler/quartz/blob/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore/",target:"_blank",rel:"noopener noreferrer"}},[r._v("Quartz SQL"),t("OutboundLink")],1)])])])},[],!1,null,null,null);a.default=e.exports}}]);